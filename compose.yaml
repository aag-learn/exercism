services:
  ruby:
    build:
      dockerfile: Dockerfile_ruby
      context: .
    image: exercism-ruby
    volumes:
      - ./ruby:/home/exercism/ruby
      - ./.config/exercism:/home/exercism/.config/exercism
  bash:
    build:
      dockerfile: Dockerfile_bash
      context: .
    image: exercism-bash
    volumes:
      - ./bash:/home/exercism/bash
      - ./.config/exercism:/home/exercism/.config/exercism
  lua:
    build:
      dockerfile: Dockerfile_lua
      context: .
      args:
        USER_NAME: ${USER_NAME:-exercism}
        USER_ID: ${USER_ID:-10000}
        GROUP_NAME: ${GROUP_NAME:-exercism}
        GROUP_ID: ${GROUP_ID:-10000}       
    image: exercism-lua
    volumes:
      - ./lua:/home/${USER_NAME}/exercism/lua
      - ./.config/exercism:/home/${USER_NAME}/.config/exercism
